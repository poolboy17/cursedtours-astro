---
interface Props {
  title: string;
  description?: string;
  canonical?: string;
  ogImage?: string;
}

const { title, description = "Explore ghost tours across America's most haunted cities.", canonical, ogImage } = Astro.props;
const siteUrl = 'https://cursedtours.com';
---

<!DOCTYPE html>
<html lang="en" class="dark">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="icon" type="image/png" href="/favicon.png">
  <title>{title}</title>
  <meta name="description" content={description}>
  {canonical && <link rel="canonical" href={canonical} />}
  
  <!-- Open Graph -->
  <meta property="og:title" content={title}>
  <meta property="og:description" content={description}>
  <meta property="og:type" content="website">
  <meta property="og:site_name" content="Cursed Tours">
  {canonical && <meta property="og:url" content={canonical} />}
  {ogImage && <meta property="og:image" content={ogImage} />}
  
  <!-- Twitter Card -->
  <meta name="twitter:card" content={ogImage ? "summary_large_image" : "summary"}>
  <meta name="twitter:title" content={title}>
  <meta name="twitter:description" content={description}>
  {ogImage && <meta name="twitter:image" content={ogImage} />}
  
  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;500;600;700&family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  
  <style is:global>
    :root {
      --color-bg-darkest: #0a0510;
      --color-bg-dark: #0f0a1a;
      --color-bg-card: #1a1025;
      --color-bg-elevated: #241430;
      --color-border: #3d2a4d;
      --color-border-light: #4a3560;
      --color-accent: #a855f7;
      --color-accent-hover: #c084fc;
      --color-text: #e8e0f0;
      --color-text-muted: #a89bb8;
      --color-text-dim: #7a6b8a;
    }
    
    html {
      font-family: 'Inter', system-ui, sans-serif;
    }
    
    h1, h2, h3 {
      font-family: 'Cinzel', serif;
    }
    
    body {
      background-color: var(--color-bg-darkest);
      color: var(--color-text);
      -webkit-font-smoothing: antialiased;
    }
    
    .container {
      max-width: 80rem;
      margin-left: auto;
      margin-right: auto;
    }

    /* Custom scrollbar */
    ::-webkit-scrollbar {
      width: 8px;
    }
    ::-webkit-scrollbar-track {
      background: var(--color-bg-dark);
    }
    ::-webkit-scrollbar-thumb {
      background: var(--color-border);
      border-radius: 4px;
    }
    ::-webkit-scrollbar-thumb:hover {
      background: var(--color-accent);
    }
  </style>
</head>
<body class="min-h-screen flex flex-col" style="background-color: #0a0510;">
  <!-- Header -->
  <header class="sticky top-0 z-50 backdrop-blur border-b" style="background-color: rgba(15, 10, 26, 0.95); border-color: #3d2a4d;">
    <div class="max-w-7xl mx-auto px-4">
      <div class="flex items-center justify-between h-16">
        <!-- Logo -->
        <a href="/" class="flex items-center gap-2">
          <img src="/images/logo.png" alt="Cursed Tours" class="h-8 w-8" />
          <span class="font-bold text-xl text-white" style="font-family: 'Cinzel', serif;">Cursed Tours</span>
        </a>
        
        <!-- Navigation -->
        <nav class="hidden md:flex items-center gap-6">
          <a href="/new-orleans-ghost-tours/" class="text-sm font-medium transition-colors" style="color: #a89bb8;" onmouseover="this.style.color='#c084fc'" onmouseout="this.style.color='#a89bb8'">New Orleans</a>
          <a href="/savannah-ghost-tours/" class="text-sm font-medium transition-colors" style="color: #a89bb8;" onmouseover="this.style.color='#c084fc'" onmouseout="this.style.color='#a89bb8'">Savannah</a>
          <a href="/salem-ghost-tours/" class="text-sm font-medium transition-colors" style="color: #a89bb8;" onmouseover="this.style.color='#c084fc'" onmouseout="this.style.color='#a89bb8'">Salem</a>
          <a href="/charleston-ghost-tours/" class="text-sm font-medium transition-colors" style="color: #a89bb8;" onmouseover="this.style.color='#c084fc'" onmouseout="this.style.color='#a89bb8'">Charleston</a>
          <a href="/st-augustine-ghost-tours/" class="text-sm font-medium transition-colors" style="color: #a89bb8;" onmouseover="this.style.color='#c084fc'" onmouseout="this.style.color='#a89bb8'">St. Augustine</a>
        </nav>
        
        <!-- Mobile menu button -->
        <button id="mobile-menu-btn" class="md:hidden p-2" style="color: #a89bb8;" aria-label="Menu" aria-expanded="false">
          <!-- Hamburger icon -->
          <svg id="menu-open-icon" class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
          </svg>
          <!-- Close icon -->
          <svg id="menu-close-icon" class="w-6 h-6 hidden" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
          </svg>
        </button>
      </div>

      <!-- Mobile menu panel -->
      <nav id="mobile-menu" class="hidden md:hidden border-t pb-4 overflow-y-auto" style="border-color: #3d2a4d; max-height: calc(100vh - 4rem);">
        <div class="flex flex-col pt-2">

          <!-- Cities accordion -->
          <button class="mobile-accordion flex items-center justify-between px-4 py-3 text-sm font-semibold text-white w-full text-left" aria-expanded="false">
            Ghost Tour Cities
            <svg class="accordion-chevron w-4 h-4 transition-transform duration-200" style="color: #7a6b8a;" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
            </svg>
          </button>
          <div class="accordion-panel hidden">
            <p class="px-6 pt-1 pb-2 text-xs font-semibold uppercase tracking-wider" style="color: #7c3aed;">Top US Cities</p>
            <a href="/new-orleans-ghost-tours/" class="block px-6 py-2 text-sm transition-colors" style="color: #a89bb8;">New Orleans</a>
            <a href="/salem-ghost-tours/" class="block px-6 py-2 text-sm transition-colors" style="color: #a89bb8;">Salem</a>
            <a href="/charleston-ghost-tours/" class="block px-6 py-2 text-sm transition-colors" style="color: #a89bb8;">Charleston</a>
            <a href="/savannah-ghost-tours/" class="block px-6 py-2 text-sm transition-colors" style="color: #a89bb8;">Savannah</a>
            <a href="/boston-ghost-tours/" class="block px-6 py-2 text-sm transition-colors" style="color: #a89bb8;">Boston</a>
            <a href="/chicago-ghost-tours/" class="block px-6 py-2 text-sm transition-colors" style="color: #a89bb8;">Chicago</a>

            <p class="px-6 pt-3 pb-2 text-xs font-semibold uppercase tracking-wider" style="color: #7c3aed;">International</p>
            <a href="/edinburgh-ghost-tours/" class="block px-6 py-2 text-sm transition-colors" style="color: #a89bb8;">Edinburgh</a>
            <a href="/london-ghost-tours/" class="block px-6 py-2 text-sm transition-colors" style="color: #a89bb8;">London</a>
            <a href="/paris-ghost-tours/" class="block px-6 py-2 text-sm transition-colors" style="color: #a89bb8;">Paris</a>
            <a href="/rome-ghost-tours/" class="block px-6 py-2 text-sm transition-colors" style="color: #a89bb8;">Rome</a>
            <a href="/dublin-ghost-tours/" class="block px-6 py-2 text-sm transition-colors" style="color: #a89bb8;">Dublin</a>

            <p class="px-6 pt-3 pb-2 text-xs font-semibold uppercase tracking-wider" style="color: #7c3aed;">More US Cities</p>
            <a href="/new-york-ghost-tours/" class="block px-6 py-2 text-sm transition-colors" style="color: #a89bb8;">New York</a>
            <a href="/st-augustine-ghost-tours/" class="block px-6 py-2 text-sm transition-colors" style="color: #a89bb8;">St. Augustine</a>
            <a href="/san-antonio-ghost-tours/" class="block px-6 py-2 text-sm transition-colors" style="color: #a89bb8;">San Antonio</a>
            <a href="/nashville-ghost-tours/" class="block px-6 py-2 text-sm transition-colors" style="color: #a89bb8;">Nashville</a>
            <a href="/austin-ghost-tours/" class="block px-6 py-2 text-sm transition-colors" style="color: #a89bb8;">Austin</a>
            <a href="/denver-ghost-tours/" class="block px-6 py-2 text-sm transition-colors" style="color: #a89bb8;">Denver</a>
            <a href="/washington-dc-ghost-tours/" class="block px-6 py-2 text-sm transition-colors" style="color: #a89bb8;">Washington DC</a>
          </div>

          <div class="border-t" style="border-color: #3d2a4d;"></div>

          <!-- Experiences accordion -->
          <button class="mobile-accordion flex items-center justify-between px-4 py-3 text-sm font-semibold text-white w-full text-left" aria-expanded="false">
            Experiences
            <svg class="accordion-chevron w-4 h-4 transition-transform duration-200" style="color: #7a6b8a;" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
            </svg>
          </button>
          <div class="accordion-panel hidden">
            <a href="/experiences/walking-tours/" class="block px-6 py-2 text-sm transition-colors" style="color: #a89bb8;">Walking Tours</a>
            <a href="/experiences/cemetery-tours/" class="block px-6 py-2 text-sm transition-colors" style="color: #a89bb8;">Cemetery Tours</a>
            <a href="/experiences/pub-crawls/" class="block px-6 py-2 text-sm transition-colors" style="color: #a89bb8;">Haunted Pub Crawls</a>
            <a href="/experiences/paranormal-investigations/" class="block px-6 py-2 text-sm transition-colors" style="color: #a89bb8;">Paranormal Investigations</a>
            <a href="/experiences/true-crime/" class="block px-6 py-2 text-sm transition-colors" style="color: #a89bb8;">True Crime Tours</a>
            <a href="/experiences/" class="block px-6 py-2 text-sm font-medium transition-colors" style="color: #c084fc;">View All Experiences →</a>
          </div>

          <div class="border-t" style="border-color: #3d2a4d;"></div>

          <!-- Direct links -->
          <a href="/destinations/" class="flex items-center justify-between px-4 py-3 text-sm font-semibold text-white transition-colors">Destinations</a>
          <div class="border-t" style="border-color: #3d2a4d;"></div>
          <a href="/articles/" class="flex items-center justify-between px-4 py-3 text-sm font-semibold text-white transition-colors">Articles</a>
          <div class="border-t" style="border-color: #3d2a4d;"></div>
          <a href="/about/" class="flex items-center justify-between px-4 py-3 text-sm font-semibold text-white transition-colors">About</a>

        </div>
      </nav>
    </div>
  </header>

  <script>
    // Hamburger toggle
    const btn = document.getElementById('mobile-menu-btn');
    const menu = document.getElementById('mobile-menu');
    const openIcon = document.getElementById('menu-open-icon');
    const closeIcon = document.getElementById('menu-close-icon');

    btn?.addEventListener('click', () => {
      const isOpen = menu?.classList.toggle('hidden') === false;
      openIcon?.classList.toggle('hidden', isOpen);
      closeIcon?.classList.toggle('hidden', !isOpen);
      btn.setAttribute('aria-expanded', String(isOpen));
    });

    // Accordion toggles
    document.querySelectorAll('.mobile-accordion').forEach(button => {
      button.addEventListener('click', () => {
        const panel = button.nextElementSibling as HTMLElement;
        const chevron = button.querySelector('.accordion-chevron') as HTMLElement;
        const isOpen = !panel.classList.contains('hidden');

        // Close all other accordions
        document.querySelectorAll('.mobile-accordion').forEach(other => {
          const otherPanel = other.nextElementSibling as HTMLElement;
          const otherChevron = other.querySelector('.accordion-chevron') as HTMLElement;
          if (other !== button && otherPanel) {
            otherPanel.classList.add('hidden');
            otherChevron?.style.setProperty('transform', 'rotate(0deg)');
            other.setAttribute('aria-expanded', 'false');
          }
        });

        // Toggle clicked accordion
        panel.classList.toggle('hidden');
        chevron?.style.setProperty('transform', isOpen ? 'rotate(0deg)' : 'rotate(180deg)');
        button.setAttribute('aria-expanded', String(!isOpen));
      });
    });
  </script>

  <!-- Main Content -->
  <main class="flex-grow">
    <slot />
  </main>

  <!-- Footer -->
  <footer class="border-t mt-auto" style="background-color: #0f0a1a; border-color: #3d2a4d;">
    <div class="max-w-7xl mx-auto px-4 py-12">
      <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
        <!-- Brand -->
        <div class="md:col-span-1">
          <a href="/" class="flex items-center gap-2 mb-4">
            <img src="/images/logo.png" alt="Cursed Tours" class="h-8 w-8" />
            <span class="font-bold text-lg text-white" style="font-family: 'Cinzel', serif;">Cursed Tours</span>
          </a>
          <p class="text-sm" style="color: #7a6b8a;">
            Independent research on ghost tours across America. Our content is based on documented history and regional folklore.
          </p>
        </div>
        
        <!-- Destinations -->
        <div>
          <h3 class="font-semibold text-white mb-4">Destinations</h3>
          <ul class="space-y-2">
            <li><a href="/new-orleans-ghost-tours/" class="text-sm transition-colors" style="color: #7a6b8a;" onmouseover="this.style.color='#c084fc'" onmouseout="this.style.color='#7a6b8a'">New Orleans</a></li>
            <li><a href="/savannah-ghost-tours/" class="text-sm transition-colors" style="color: #7a6b8a;" onmouseover="this.style.color='#c084fc'" onmouseout="this.style.color='#7a6b8a'">Savannah</a></li>
            <li><a href="/salem-ghost-tours/" class="text-sm transition-colors" style="color: #7a6b8a;" onmouseover="this.style.color='#c084fc'" onmouseout="this.style.color='#7a6b8a'">Salem</a></li>
            <li><a href="/charleston-ghost-tours/" class="text-sm transition-colors" style="color: #7a6b8a;" onmouseover="this.style.color='#c084fc'" onmouseout="this.style.color='#7a6b8a'">Charleston</a></li>
            <li><a href="/st-augustine-ghost-tours/" class="text-sm transition-colors" style="color: #7a6b8a;" onmouseover="this.style.color='#c084fc'" onmouseout="this.style.color='#7a6b8a'">St. Augustine</a></li>
          </ul>
        </div>
        
        <!-- Experiences -->
        <div>
          <h3 class="font-semibold text-white mb-4">Experiences</h3>
          <ul class="space-y-2">
            <li><a href="/experiences/cemetery-tours/" class="text-sm transition-colors" style="color: #7a6b8a;" onmouseover="this.style.color='#c084fc'" onmouseout="this.style.color='#7a6b8a'">Cemetery Tours</a></li>
            <li><a href="/experiences/walking-tours/" class="text-sm transition-colors" style="color: #7a6b8a;" onmouseover="this.style.color='#c084fc'" onmouseout="this.style.color='#7a6b8a'">Walking Tours</a></li>
            <li><a href="/experiences/pub-crawls/" class="text-sm transition-colors" style="color: #7a6b8a;" onmouseover="this.style.color='#c084fc'" onmouseout="this.style.color='#7a6b8a'">Haunted Pub Crawls</a></li>
            <li><a href="/experiences/paranormal-investigations/" class="text-sm transition-colors" style="color: #7a6b8a;" onmouseover="this.style.color='#c084fc'" onmouseout="this.style.color='#7a6b8a'">Paranormal Investigations</a></li>
            <li><a href="/experiences/true-crime/" class="text-sm transition-colors" style="color: #7a6b8a;" onmouseover="this.style.color='#c084fc'" onmouseout="this.style.color='#7a6b8a'">True Crime Tours</a></li>
          </ul>
        </div>
        
        <!-- Company -->
        <div>
          <h3 class="font-semibold text-white mb-4">Company</h3>
          <ul class="space-y-2">
            <li><a href="/about/" class="text-sm transition-colors" style="color: #7a6b8a;" onmouseover="this.style.color='#c084fc'" onmouseout="this.style.color='#7a6b8a'">About Us</a></li>
            <li><a href="/editorial-policy/" class="text-sm transition-colors" style="color: #7a6b8a;" onmouseover="this.style.color='#c084fc'" onmouseout="this.style.color='#7a6b8a'">Editorial Policy</a></li>
            <li><a href="/contact/" class="text-sm transition-colors" style="color: #7a6b8a;" onmouseover="this.style.color='#c084fc'" onmouseout="this.style.color='#7a6b8a'">Contact</a></li>
            <li><a href="/privacy-policy/" class="text-sm transition-colors" style="color: #7a6b8a;" onmouseover="this.style.color='#c084fc'" onmouseout="this.style.color='#7a6b8a'">Privacy Policy</a></li>
            <li><a href="/terms/" class="text-sm transition-colors" style="color: #7a6b8a;" onmouseover="this.style.color='#c084fc'" onmouseout="this.style.color='#7a6b8a'">Terms of Use</a></li>
          </ul>
        </div>
      </div>
      
      <div class="mt-8 pt-8 text-center" style="border-top: 1px solid #3d2a4d;">
        <p class="text-sm" style="color: #7a6b8a;">
          © {new Date().getFullYear()} Cursed Tours. Independent ghost tour research and historical information.
        </p>
      </div>
    </div>
  </footer>
</body>
</html>
